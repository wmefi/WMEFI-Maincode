{% extends 'wtestapp/base.html' %}
{% load static %}

{% block title %}Role Assignment{% endblock %}

{% block style %}
<style>
  :root{ --teal:#64c5cb; --purple:#c0769e; --pink:#e664a2; --bg:#fdeef4; --card:#ffffff; }
  body{ background: var(--bg); }
  .role-card{ background:var(--card); border:1px solid var(--pink); border-radius:16px; box-shadow:0 10px 30px rgba(0,0,0,.1); padding:40px; margin-top:40px; text-align:center; max-width:600px; margin-left:auto; margin-right:auto; }
  .role-badge{ display:inline-block; padding:16px 32px; background:linear-gradient(135deg, var(--pink), var(--purple)); color:#fff; border-radius:50px; font-size:1.5rem; font-weight:700; margin:20px 0; box-shadow:0 6px 20px rgba(230,100,162,.3); }
  .role-title{ color:var(--purple); font-weight:800; margin-bottom:10px; }
  .role-desc{ color:#7b3f63; margin-bottom:30px; }
  .btn-primary{ background:var(--pink); border-color:var(--pink); padding:12px 30px; font-size:1.1rem; border-radius:8px; }
  .btn-primary:hover{ background:var(--purple); border-color:var(--purple); }
  .icon-check{ width:80px; height:80px; background:linear-gradient(135deg, var(--teal), var(--pink)); border-radius:50%; display:flex; align-items:center; justify-content:center; margin:0 auto 20px; color:#fff; font-size:40px; }
</style>
{% endblock %}

{% block content %}
<div class="container">
  <div class="role-card">
    <div class="icon-check">✓</div>
    <h2 class="role-title">Login Successful!</h2>
    <p class="role-desc">Welcome, Dr. {{ doctor.first_name }} {{ doctor.last_name }}</p>
    
    <div class="mb-4">
      <div style="color:#7b3f63; margin-bottom:8px;">Your Role Assignment:</div>
      <div class="role-badge">{{ role_name }}</div>
      {% if doctor.portal_type %}
        <p class="mt-2" style="color:#7b3f63;">Portal Type: <strong>{{ doctor.portal_type }}</strong></p>
      {% endif %}
    </div>

    <div class="mt-4">
      <p style="color:#7b3f63; margin-bottom:20px;">
        {% if doctor.portal_type == 'GC' %}
          As a Genetic Counselor, you have access to GC-specific surveys and documentation.
        {% elif doctor.portal_type == 'CP' %}
          As a Clinical Practitioner, you have access to CP-specific surveys and clinical assessments.
        {% else %}
          Your role will be assigned by the administrator. Please contact support if this persists.
        {% endif %}
      </p>
    </div>

    <div class="mt-4">
      <a href="{% url 'doctor_profile' %}" class="btn btn-primary btn-lg">Continue to Profile →</a>
    </div>
  </div>
</div>
{% endblock %}
