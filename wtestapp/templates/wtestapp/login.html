{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Login - Mobile OTP</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />
  <style>
    :root{ --teal:#64c5cb; --purple:#c0769e; --pink:#e664a2; --bg:#fdeef4; --card:#ffffff; }
    body{ min-height:100vh; margin:0; background: linear-gradient(135deg, rgba(100,197,203,.25), rgba(230,100,162,.25)); display:flex; align-items:center; justify-content:center; }
    .auth-wrap{ width:100%; max-width:980px; padding: 24px; }
    .brand-head{ display:flex; align-items:center; gap:12px; justify-content:center; margin-bottom:16px; }
    .brand-head img{ height:72px; }
    .brand-title{ font-weight:800; color:#9a547a; margin:0; }
    .auth-card{ background:var(--card); border:1px solid var(--pink); border-radius:16px; box-shadow:0 15px 35px rgba(0,0,0,.12); overflow:hidden; min-height: 560px; }
    /* Always show the visual; use an <img> so it loads regardless of CSS background */
    .auth-left{ display:block; background:#f7f7f7; height:220px; }
    .auth-left img{ width:100%; height:100%; object-fit:cover; display:block; }
    .auth-body{ padding:28px; display:flex; flex-direction:column; justify-content:center; }
    .form-box{ max-width: 380px; margin: 0 auto; text-align:center; width:100%; }
    .form-box .form-group{ text-align:left; }
    @media (min-width: 992px){ .auth-grid{ display:grid; grid-template-columns: 1.1fr .9fr; } .auth-left{ height:auto; min-height:560px; }
      .auth-body{ padding:40px; } }

    .auth-heading{ font-weight:800; color:#9a547a; margin-bottom:6px; }
    .input-group-text{ background:#fff; border-color:#e7b3cd; color:#e664a2; font-weight:700; }
    .form-control{ border-color:#e7b3cd; background: white; transition: all 0.3s ease; }
    .form-control:hover{ border-color:#e664a2; box-shadow: 0 0 0 3px rgba(230,100,162,0.1); }
    .form-control:focus{ border-color:#e664a2; box-shadow:0 0 0 3px rgba(230,100,162,0.15); outline: none; }
    .btn-primary{ background:#e664a2 !important; border: 2px solid #e664a2 !important; color: white !important; font-weight:700; border-radius:12px; padding:.7rem 1rem; transition: all 0.3s ease; box-shadow: 0 3px 10px rgba(230,100,162,0.3); }
    .btn-primary:hover{ background: white !important; color: #e664a2 !important; border-color:#e664a2 !important; transform: translateY(-1px); box-shadow: 0 4px 12px rgba(230,100,162,0.4) !important; }
    .btn-primary:active{ transform: translateY(0px) !important; background: white !important; color: #e664a2 !important; }
    .btn-primary:focus{ outline: none !important; box-shadow: 0 0 0 3px rgba(230,100,162,0.2) !important; background:#e664a2 !important; color: white !important; }
    .helper{ font-size:.875rem; color:#7b3f63; }
    .foot-note{ text-align:center; color:#9a547a; margin-top:14px; font-size:.9rem; }
  </style>
  <meta name="color-scheme" content="light only" />
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
</head>
<body>
  <div class="auth-wrap">
    <div class="brand-head">
      <img src="{% static 'images/logo/logo.png' %}" alt="Brand" />
      <h3 class="brand-title mb-0">Welcome</h3>
    </div>

    <div class="auth-card auth-grid">
      <div class="auth-left" aria-label="Login visual">
        <img src="{% static 'images/logo/login_images.jpg' %}" alt="Login visual" />
      </div>
      <div class="auth-body d-flex align-items-center justify-content-center">
        <div class="form-box w-100 mw-380 mx-auto">
          <h2 class="auth-heading text-center">Login with Mobile</h2>
          <p class="mb-4 text-center">Enter your mobile number to receive an OTP</p>
          
          {% if messages %}
            {% for message in messages %}
              <div class="alert alert-{{ message.tags }} py-2" role="alert">
                {{ message }}
              </div>
            {% endfor %}
          {% endif %}
          
          <form method="post" action="{% url 'login' %}">
            {% csrf_token %}
            <div class="form-group">
              <label for="mobile">Mobile Number</label>
              <div class="input-group">
                <div class="input-group-prepend">
                  <span class="input-group-text"><i class="fas fa-flag mr-1"></i> +91</span>
                </div>
                <input type="tel" class="form-control" id="mobile" name="mobile" placeholder="Enter 10-digit mobile" pattern="[0-9]{10}" maxlength="10" required />
              </div>
              <small class="form-text text-muted helper">We'll send an OTP to this number.</small>
            </div>
            <button type="submit" class="btn btn-primary btn-block mt-4">Send OTP</button>
          </form>

          <div class="foot-note mt-4 text-center">Having trouble? Contact support at <a href="mailto:connect@wmefi.co.in">connect@wmefi.co.in</a></div>
        </div>
      </div>
    </div>
  </div>
</body>
</html>